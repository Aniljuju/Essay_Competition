{% extends 'base.html' %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<div class="container my-5">

    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-5">
        <div>
            <h1 class="fw-bold mb-1">Admin Dashboard</h1>
            <p class="text-muted mb-0">System overview & management controls</p>
        </div>
        <a href="/admin/" class="btn btn-outline-primary">
            âš™ï¸ Django Admin
        </a>
    </div>

    <!-- User Statistics -->
    <h5 class="text-uppercase text-muted mb-3">User Statistics</h5>
    <div class="row g-4 mb-5">
        <div class="col-md-3">
            <div class="stat-card">
                <div class="stat-icon">ğŸ‘¥</div>
                <div class="stat-number">{{ total_users }}</div>
                <div class="stat-label">Total Users</div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="stat-card">
                <div class="stat-icon">âœ…</div>
                <div class="stat-number">{{ verified_users }}</div>
                <div class="stat-label">Verified</div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="stat-card">
                <div class="stat-icon">â³</div>
                <div class="stat-number">{{ pending_users }}</div>
                <div class="stat-label">Pending</div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="stat-card">
                <div class="stat-icon">âŒ</div>
                <div class="stat-number">{{ rejected_users }}</div>
                <div class="stat-label">Rejected</div>
            </div>
        </div>
    </div>

    <!-- Competition Statistics -->
    <h5 class="text-uppercase text-muted mb-3">Competition Statistics</h5>
    <div class="row g-4 mb-5">
        <div class="col-md-4">
            <div class="stat-card">
                <div class="stat-icon">ğŸ†</div>
                <div class="stat-number">{{ total_competitions }}</div>
                <div class="stat-label">Total Competitions</div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="stat-card">
                <div class="stat-icon">ğŸ”¥</div>
                <div class="stat-number">{{ active_competitions }}</div>
                <div class="stat-label">Active Now</div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="stat-card">
                <div class="stat-icon">ğŸ“</div>
                <div class="stat-number">{{ total_essays }}</div>
                <div class="stat-label">Total Essays</div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">Quick Actions</h5>
        </div>
        <div class="card-body">
            <div class="row g-4">
                <div class="col-md-4">
                    <a href="{% url 'admin_users' %}" class="btn btn-lg btn-outline-primary w-100">
                        ğŸ‘¥ Manage Users
                    </a>
                </div>

                <div class="col-md-4">
                    <a href="/admin/competition/competition/add/" class="btn btn-lg btn-outline-success w-100">
                        â• Create Competition
                    </a>
                </div>

                <div class="col-md-4">
                    <a href="{% url 'admin_essays' %}" class="btn btn-lg btn-outline-info w-100">
                        ğŸ“„ Manage Essays
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Alerts -->
    {% if pending_users > 0 %}
    <div class="alert alert-warning d-flex justify-content-between align-items-center">
        <div>
            <strong>âš ï¸ Attention Required</strong><br>
            {{ pending_users }} user{% if pending_users != 1 %}s{% endif %} waiting for verification.
        </div>
        <a href="{% url 'admin_users' %}" class="btn btn-sm btn-warning">
            Review Users
        </a>
    </div>
    {% endif %}

</div>
{% endblock %}